source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
View(MSL_Meander)
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
View(MSL_MEANDER_MEAS)
##############################@
## ---- INITIALIZATION ----
##############################@
current_path    <- dirname(rstudioapi::getSourceEditorContext()$path)   # Get current path
functions_path  <- paste(current_path,"functions.R", sep="/")           # Get utility functions path
source(functions_path)                                                  # Source utility functions
library(ggplot2)
library(patchwork)
## initialize Physical Constants
epsilon_MUT     = 1         # []
epsilon_SUB     = 4.38      # []
##########################################@
## ---- 1. Fase vs. Permissividade MUT ----
## Frequência: 3 GHz ~ 7 GHz (0.01 GHz)
## Permissividade: 1.00 ~ 3.00 (0.1)
##########################################@
## Import Data
# Microstrip Line
#MLS_MUT_COMSOL    <- get_dataSet(current_path, "MSL_MUT_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#MSL_MUT_COMSOL    <- get_phase(MSL_MUT_COMSOL)
#MSL_MUT_ADS_MOM  <- get_dataSet(current_path, "MSL_MUT_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#MSL_MUT_ADS_MOM  <- get_phase(MSL_MUT_ADS_MOM)
#MSL_MUT_ADS_FEM  <- get_dataSet(current_path, "MSL_MUT_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#MSL_MUT_ADS_FEM  <- get_phase(MSL_MUT_ADS_FEM)
# Coplanar Waveguide
#CPWG_MUT_COMSOL   <- get_dataSet(current_path, "CPWG_MUT_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#CPWG_MUT_COMSOL   <- get_phase(CPWG_MUT_COMSOL)
#CPWG_MUT_ADS_MOM  <- get_dataSet(current_path, "CPWG_MUT_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#CPWG_MUT_ADS_MOM  <- get_phase(CPWG_MUT_ADS_MOM)
#CPWG_MUT_ADS_FEM  <- get_dataSet(current_path, "CPWG_MUT_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#CPWG_MUT_ADS_FEM  <- get_phase(CPWG_MUT_ADS_FEM)
# Stripline
STRL_MUT_COMSOL   <- get_dataSet(current_path, "STRL_MUT_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#STRL_MUT_COMSOL   <- get_phase(STRL_MUT_COMSOL, "relative", "degrees")
#STRL_MUT_ADS_MOM  <- get_dataSet(current_path, "STRL_MUT_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#STRL_MUT_ADS_MOM  <- get_phase(STRL_MUT_ADS_MOM)
#STRL_MUT_ADS_FEM  <- get_dataSet(current_path, "STRL_MUT_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#STRL_MUT_ADS_FEM  <- get_phase(STRL_MUT_ADS_FEM)
## Plot Figure
# Fig1 <- ggplot() +
#         geom_line(data=subset(STRL_MUT_COMSOL, Freq == 3.0), aes(Er, Phase-Phase[1], group = Freq), color="blue", linewidth=1) +
#         geom_line(data=subset(STRL_MUT_COMSOL, Freq == 5.0), aes(Er, Phase-Phase[1], group = Freq), color="blue", linewidth=1) +
#         geom_line(data=subset(STRL_MUT_COMSOL, Freq == 7.0), aes(Er, Phase-Phase[1], group = Freq), color="blue", linewidth=1) +
#         xlab("Er []") +
#         ylab("Relative Phase [°]") +
#         scale_x_continuous(minor_breaks = seq(1, 3, by = 0.1)) +  # Adjust minor breaks
#         theme(panel.background = element_rect(fill = NA),
#               panel.grid.major = element_line(colour = "grey70"),
#               panel.grid.minor = element_line(colour = "grey90"),
#               panel.ontop = FALSE)
#print(Fig1)
## ---- 2. Fase vs. Frequência ----
Fig2 <- ggplot() +
geom_line(data=subset(STRL_MUT_COMSOL, Er == 1), aes(Freq, Phase-Phase[1], group = Er)) +
geom_line(data=subset(STRL_MUT_COMSOL, Er == 2), aes(Freq, Phase-Phase[1], group = Er)) +
geom_line(data=subset(STRL_MUT_COMSOL, Er == 3), aes(Freq, Phase-Phase[1], group = Er))
#print(Fig2)
## ---- 3. Fase vs. Impedância ----
## Import Data
# Microstrip Line
#MLS_ZTL_COMSOL    <- get_dataSet(current_path, "MSL_ZTL_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#MSL_ZTL_COMSOL    <- get_phase(MSL_ZTL_COMSOL)
#MSL_ZTL_ADS_MOM  <- get_dataSet(current_path, "MSL_ZTL_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#MSL_ZTL_ADS_MOM  <- get_phase(MSL_ZTL_ADS_MOM)
#MSL_ZTL_ADS_FEM  <- get_dataSet(current_path, "MSL_ZTL_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#MSL_ZTL_ADS_FEM  <- get_phase(MSL_ZTL_ADS_FEM)
# Coplanar Waveguide
#CPWG_ZTL_COMSOL   <- get_dataSet(current_path, "CPWG_ZTL_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#CPWG_ZTL_COMSOL   <- get_phase(CPWG_ZTL_COMSOL)
#CPWG_ZTL_ADS_MOM  <- get_dataSet(current_path, "CPWG_ZTL_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#CPWG_ZTL_ADS_MOM  <- get_phase(CPWG_ZTL_ADS_MOM)
#CPWG_ZTL_ADS_FEM  <- get_dataSet(current_path, "CPWG_ZTL_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#CPWG_ZTL_ADS_FEM  <- get_phase(CPWG_ZTL_ADS_FEM)
# Stripline
#STRL_ZTL_COMSOL   <- get_dataSet(current_path, "STRL_ZTL_COMSOL_EMW.csv", c("Er", "Freq", "S11", "S21"))      # Get COMSOL dataframe
#STRL_ZTL_COMSOL   <- get_phase(STRL_ZTL_COMSOL, "relative", "degrees")
#STRL_ZTL_ADS_MOM  <- get_dataSet(current_path, "STRL_ZTL_ADS_MOM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS MoM dataframe
#STRL_ZTL_ADS_MOM  <- get_phase(STRL_ZTL_ADS_MOM)
#STRL_ZTL_ADS_FEM  <- get_dataSet(current_path, "STRL_ZTL_ADS_FEM.csv", c("Er", "Freq", "S11", "S21"))      # Get ADS FEM dataframe
#STRL_ZTL_ADS_FEM  <- get_phase(STRL_ZTL_ADS_FEM)
##########################################@
## ---- 4. Fase vs. Volume       ----
## Frequência: 5 GHz
## Permissividade: 1.00
## Plane X: -0.708 mm ~ 10 mm (0.01 mm)
##########################################@
## Import Data
# Microstrip Line
MSL_VOL_COMSOL    <- get_dataSet(current_path, "MSL_VOL_COMSOL_EMW.csv", c("Freq", "PlaneX", "Enorm", "E2norm", "S11", "S21"))      # Get COMSOL dataframe
MSL_VOL_COMSOL    <- zero_crossing(MSL_VOL_COMSOL, 1e-6)
# Coplanar Waveguide
CPWG_VOL_COMSOL   <- get_dataSet(current_path, "CPWG_VOL_COMSOL_EMW.csv", c("Freq", "PlaneX", "Enorm", "E2norm", "S11", "S21"))      # Get COMSOL dataframe
CPWG_VOL_COMSOL   <- zero_crossing(CPWG_VOL_COMSOL, 1e-6)
# Stripline
STRL_VOL_COMSOL   <- get_dataSet(current_path, "STRL_VOL_COMSOL_EMW.csv", c("Freq", "PlaneX", "Enorm", "E2norm", "S11", "S21"))      # Get COMSOL dataframe
STRL_VOL_COMSOL   <- zero_crossing(STRL_VOL_COMSOL, 1e-6)
STRL_VOL_COMSOL   <- zero_padding(STRL_VOL_COMSOL, c(-0.708, 10))
# Plot Figure
Fig_We <- ggplot()
Fig_We <- add_We_line   (Fig_We, MSL_VOL_COMSOL , epsilon_MUT, epsilon_SUB, "Microstrip")
Fig_We <- add_We_line   (Fig_We, STRL_VOL_COMSOL, epsilon_MUT, epsilon_SUB, "Stripline")
Fig_We <- add_We_line   (Fig_We, CPWG_VOL_COMSOL, epsilon_MUT, epsilon_SUB, "Coplanar Waveguide")
Fig_We <- config_We_plot(Fig_We, c(-0.708, 0.708), c(0, 1.5e-7))
#print(Fig_We)
## ---- 5. Linha de Transmissão ----
## Frequência: 3-7 GHz
## Permissividade: 1.00
##########################################@
MSL_Meander       <- get_dataSet(current_path, "MSL_MEANDER_ADSMoM.csv", c("Freq", "S11", "S21", "S12", "S22"))      # Get ADS dataframe
MSL_Meander       <- process_ADS_Data(MSL_Meander)
# MSL_Meander_meas  <- get_dataSet(current_path,
#                                  "MSL_MEANDER_MEAS.S2P",
#                                  c("Freq","MagS11", "PhaseS11","MagS21", "PhaseS21","MagS12", "PhaseS12","MagS22", "PhaseS22"),
#                                  ",")      # Get S2P dataframe
MSL_MEANDER_MEAS <- read_csv("MSL_MEANDER_MEAS.S2P",
col_names = c("Freq","MagS11", "PhaseS11","MagS21", "PhaseS21","MagS12", "PhaseS12","MagS22", "PhaseS22"),
comment = "%")
Fig_SMag <- ggplot()
Fig_SMag <- add_SMag_line    (Fig_SMag, MSL_Meander, "ADS-MoM")
Fig_SMag <- config_SMag_plot (Fig_SMag, c(4, 6), c(-30, 0))
Fig_SPhase <- ggplot()
Fig_SPhase <- add_SPhase_line    (Fig_SPhase, MSL_Meander, "ADS-MoM")
Fig_SPhase <- config_SPhase_plot (Fig_SPhase, c(4, 6), c(-225, 225))
print(Fig_SMag / Fig_SPhase)
print(Fig_SMag)
print(Fig_SPhase)
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
source("C:/Users/rodrigoanjos/OneDrive - IPT/Pessoal/Mestrado/9. Pesquisa/9. Qualificação/Bases de Dados/DataAnalysis.R")
